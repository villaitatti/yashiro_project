<rs-text-annotation-type 
    label="Place"
    rdf-type='https://yashiro.itatti.harvard.edu/yashiro/annotation-schema/Place'
    icon-url='/images/dpub/place.svg'
    color="#26A65B">
    
    <template id='annotation'>

      <semantic-query query='
        SELECT ?value ?label WHERE {
          BIND({{iri}} as ?iri)
          ?iri oa:hasBody ?body.
          ?body crm:P1_is_identified_by ?value.
          ?body rdfs:label ?label
        }' template='{{> show}}'
      >

        <template id='show'>
          <div class="yashiro-annotation-content concept">
              <div class="yashiro-annotation-content concept">
                <semantic-query
                query='SELECT ?localImage WHERE {<{{bindings.0.value.value}}> crm:P138i_has_representation ?filename.
                  BIND(REPLACE(STR(?filename),"https://yashiro.itatti.harvard.edu/","/assets/") as ?localImageNorm)
                  BIND(REPLACE(?localImageNorm,"/assets/resource/assets/","/assets/") as ?localImage) }LIMIT 1'
                template='{{> thumbTemplate }}'
                no-result-template='{{> thumbTemplate }}'
                >
                <template id='thumbTemplate'>
                 
                    <img class="person-img" height="60px" src="/images/dpub/place.svg"/>
                  
                </template>
              </semantic-query>
         

          {{#> yashiro:AnnotationTemplate}}
          
            <span>Place:</span>
            <semantic-link iri="{{bindings.0.value.value}}"> {{bindings.0.label.value}}</semantic-link>
          </div>
          {{/ yashiro:AnnotationTemplate}}

        </template>
      </semantic-query>
    </template>
    
    <semantic-context repository='ephedra'>
      <semantic-form-composite-input
        for='oaHasBody'
        new-subject-template='body'
        fields='[[fieldDefinitions 
            annotation_type="https://y.itatti.harvard.edu/container/fieldDefinitionContainer/annotation_type"
            annotation_place="https://y.itatti.harvard.edu/container/fieldDefinitionContainer/annotation_place"
            annotation_label="https://y.itatti.harvard.edu/container/fieldDefinitionContainer/annotation_label"
        ]]'
        >

          <semantic-form-hidden-input for='annotation_type' default-value='https://yashiro.itatti.harvard.edu/yashiro/annotation-schema/Place'></semantic-form-hidden-input>
          <semantic-form-autocomplete-input for='annotation_place'></semantic-form-autocomplete-input>
          <semantic-form-text-input for='annotation_label'></semantic-form-text-input>
      
          <semantic-form-errors></semantic-form-errors>
      </semantic-form-composite-input> 
    </semantic-context>
    

</rs-text-annotation-type>